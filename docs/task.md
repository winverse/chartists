# 프로젝트 작업 목록

## 1단계: 초기 설정 및 데이터 준비

- **프로젝트 환경 설정**
    - `package.json`에 `playwright`, `crawlee`, `dotenv` 등 필요 라이브러리 추가 및 설치 (`bun install`).
    - `dotenv`를 사용하여 한국투자증권 API 키 (`APP_KEY`, `APP_SECRET`) 및 HTS 계정 정보(`HTS_USER_ID`) 환경 변수 설정.
- **(선행) HTS 조건식 생성**
    - 한국투자증권 HTS `[0110]` 화면에서 '시가총액 1000억 이상' 등 원하는 조건식을 생성하고 '나의 조건'으로 서버에 저장.

## 2단계: 핵심 기능 구현

- **1. 한국투자증권 API 연동**
    - API 인증 및 Access Token 발급 기능 구현.
    - `종목조건검색 목록조회` API를 호출하여 HTS에 저장된 조건식의 `seq` ID 확인.
    - `종목조건검색조회` API를 호출하여 조건에 맞는 주식 목록 (종목코드, 종목명) 조회.
- **2. 구글 로그인 및 세션 확인 (선행 작업)**
    - `playwright`와 `crawlee`를 사용하여 구글 로그인 자동화 구현.
    - 로그인된 세션을 사용하여 Perplexity.ai 접근 가능 여부 확인 로직 구현.
- **3. Toss 증권 차트 스크린샷 자동화**
    - 조회된 주식 목록을 순회하며 각 종목의 Toss 증권 페이지로 이동하는 기능 구현.
    - Playwright를 사용한 UI 자동화:
        - '차트 크게보기' 클릭.
        - 차트 3회 확대 (마우스 휠).
        - 차트 우측으로 스크롤.
        - '주' 단위 차트 선택.
        - 전체 화면 스크린샷 캡처 및 저장.

## 3단계: 최종 스크립트 통합

- 위 기능들을 순차적으로 실행하는 메인 스크립트 작성.
- 오류 처리 및 로깅 기능 추가.
